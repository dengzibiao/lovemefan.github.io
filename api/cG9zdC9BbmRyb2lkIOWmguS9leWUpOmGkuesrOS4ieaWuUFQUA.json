{"title":"Android学习笔记 (二)   Intent唤醒其他Activity或APP","date":"2017-10-20T10:43:00.000Z","excerpt":"<p><strong> Android学习笔记 (二)   Intent唤醒其他Activity或APP：</strong> <excerpt in=\"\" index=\"\" |=\"\" 首页摘要=\"\"><br> 利用Intent 唤醒其他Activity或其他APP<br>","slug":"Android 如何唤醒第三方APP","tags":["Android","APP开发","学习笔记"],"updated":"2017-10-20T10:53:10.723Z","content":"<p><strong> Android学习笔记 (二)   Intent唤醒其他Activity或APP：</strong> <excerpt in=\"\" index=\"\" |=\"\" 首页摘要=\"\"><br> 利用Intent 唤醒其他Activity或其他APP<br><a id=\"more\"></a></excerpt></p>\n<p><the rest=\"\" of=\"\" contents=\"\" |=\"\" 余下全文=\"\"></the></p>\n<h1 id=\"Android-如何唤醒第三方APP\"><a href=\"#Android-如何唤醒第三方APP\" class=\"headerlink\" title=\"Android 如何唤醒第三方APP\"></a>Android 如何唤醒第三方APP</h1><h2 id=\"Intent类的通常用法\"><a href=\"#Intent类的通常用法\" class=\"headerlink\" title=\"Intent类的通常用法\"></a>Intent类的通常用法</h2><h3 id=\"1-启动-Activity：\"><a href=\"#1-启动-Activity：\" class=\"headerlink\" title=\"1.启动 Activity：\"></a><code>1.启动 Activity：</code></h3><blockquote>\n<p>Activity 表示应用中的一个屏幕。通过将 Intent 传递给 startActivity()，您可以启动新的 Activity 实例。Intent 描述了要启动的 Activity，并携带了任何必要的数据。<br>如果您希望在 Activity 完成后收到结果，请调用 startActivityForResult()。在 Activity 的 onActivityResult() 回调中，您的 Activity 将结果作为单独的 Intent 对象接收。如需了解详细信息，请参阅 Activity 指南。</p>\n</blockquote>\n<h3 id=\"2-启动服务：\"><a href=\"#2-启动服务：\" class=\"headerlink\" title=\"2.启动服务：\"></a><code>2.启动服务：</code></h3><blockquote>\n<p>Service 是一个不使用用户界面而在后台执行操作的组件。通过将 Intent 传递给 startService()，您可以启动服务执行一次性操作（例如，下载文件）。Intent 描述了要启动的服务，并携带了任何必要的数据。<br>如果服务旨在使用客户端-服务器接口，则通过将 Intent 传递给 bindService()，您可以从其他组件绑定到此服务。如需了解详细信息，请参阅服务指南。</p>\n</blockquote>\n<h3 id=\"3-传递广播：\"><a href=\"#3-传递广播：\" class=\"headerlink\" title=\"3.传递广播：\"></a><code>3.传递广播：</code></h3><blockquote>\n<p>广播是任何应用均可接收的消息。系统将针对系统事件（例如：系统启动或设备开始充电时）传递各种广播。通过将 Intent 传递给 sendBroadcast()、sendOrderedBroadcast() 或 sendStickyBroadcast()，您可以将广播传递给其他应用。</p>\n</blockquote>\n<h3 id=\"以下内容只讨论启动Activity\"><a href=\"#以下内容只讨论启动Activity\" class=\"headerlink\" title=\"以下内容只讨论启动Activity\"></a><code>以下内容只讨论启动Activity</code></h3><h2 id=\"Intent-启动Activity\"><a href=\"#Intent-启动Activity\" class=\"headerlink\" title=\"Intent 启动Activity\"></a>Intent 启动Activity</h2><h3 id=\"1-启动Activity\"><a href=\"#1-启动Activity\" class=\"headerlink\" title=\"1.启动Activity\"></a>1.启动Activity</h3><p><code>代码示例:</code><br><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div><div class=\"line\">42</div><div class=\"line\">43</div><div class=\"line\">44</div><div class=\"line\">45</div><div class=\"line\">46</div><div class=\"line\">47</div><div class=\"line\">48</div><div class=\"line\">49</div><div class=\"line\">50</div><div class=\"line\">51</div><div class=\"line\">52</div><div class=\"line\">53</div><div class=\"line\">54</div><div class=\"line\">55</div><div class=\"line\">56</div><div class=\"line\">57</div><div class=\"line\">58</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">//调用系统默认浏览器打开百度</span></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">openBaidu</span><span class=\"params\">(View view)</span> </span>&#123;</div><div class=\"line\">        Intent intent = <span class=\"keyword\">new</span> Intent(Intent.ACTION_VIEW);</div><div class=\"line\">        intent.setData(Uri.parse(<span class=\"string\">\"http://www.baidu.com\"</span>));<span class=\"comment\">//设置url</span></div><div class=\"line\">        startActivity(intent);</div><div class=\"line\">    &#125;</div><div class=\"line\">    <span class=\"comment\">//调用系统电话,拨打10086.需要添加权限</span></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">openCall</span><span class=\"params\">(View view)</span> </span>&#123;</div><div class=\"line\">        <span class=\"keyword\">if</span> (ActivityCompat.checkSelfPermission(<span class=\"keyword\">this</span>, Manifest.permission.CALL_PHONE) != PackageManager.PERMISSION_GRANTED) &#123;</div><div class=\"line\">            <span class=\"comment\">// <span class=\"doctag\">TODO:</span> Consider calling</span></div><div class=\"line\">            <span class=\"comment\">//    ActivityCompat#requestPermissions</span></div><div class=\"line\">            <span class=\"comment\">// here to request the missing permissions, and then overriding</span></div><div class=\"line\">            <span class=\"comment\">//   public void onRequestPermissionsResult(int requestCode, String[] permissions,</span></div><div class=\"line\">            <span class=\"comment\">//                                          int[] grantResults)</span></div><div class=\"line\">            <span class=\"comment\">// to handle the case where the user grants the permission. See the documentation</span></div><div class=\"line\">            <span class=\"comment\">// for ActivityCompat#requestPermissions for more details.</span></div><div class=\"line\">            <span class=\"keyword\">return</span>;</div><div class=\"line\">        &#125;</div><div class=\"line\">        startActivity(<span class=\"keyword\">new</span> Intent(Intent.ACTION_CALL, Uri.parse(<span class=\"string\">\"tel:10086\"</span>)));</div><div class=\"line\">    &#125;</div><div class=\"line\">    <span class=\"comment\">//调用系统信息应用</span></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">openSms</span><span class=\"params\">(View view)</span> </span>&#123;</div><div class=\"line\">        Intent intent = <span class=\"keyword\">new</span> Intent(Intent.ACTION_VIEW);</div><div class=\"line\">        intent.setType(<span class=\"string\">\"vnd.android-dir/mms-sms\"</span>);</div><div class=\"line\">        intent.putExtra(<span class=\"string\">\"sms_body\"</span>,<span class=\"string\">\"\"</span>); <span class=\"comment\">//第二个参数为短信内容</span></div><div class=\"line\">        startActivity(intent);</div><div class=\"line\">    &#125;</div><div class=\"line\">    <span class=\"comment\">//打开QQ,uin=10000为打开qq10000的用户的聊天界面</span></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">openQQ</span><span class=\"params\">(View view)</span> </span>&#123;</div><div class=\"line\">        EditText editText = (EditText)findViewById(R.id.editText);</div><div class=\"line\">        startActivity(<span class=\"keyword\">new</span> Intent(Intent.ACTION_VIEW,Uri.parse(<span class=\"string\">\"mqqwpa://im/chat?chat_type=wpa&amp;uin=\"</span>+ editText.getText()+<span class=\"string\">\"&amp;version=1\"</span>)));</div><div class=\"line\">    &#125;</div><div class=\"line\">    <span class=\"comment\">//打开系统相机</span></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">openCamera</span><span class=\"params\">(View view)</span> </span>&#123;</div><div class=\"line\">        startActivity(<span class=\"keyword\">new</span> Intent(<span class=\"string\">\"android.media.action.STILL_IMAGE_CAMERA\"</span>));</div><div class=\"line\">    &#125;</div><div class=\"line\">    <span class=\"comment\">//打开微信</span></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">openWechat</span><span class=\"params\">(View view)</span> </span>&#123;</div><div class=\"line\">        Intent intent = <span class=\"keyword\">new</span> Intent();</div><div class=\"line\">        ComponentName cmp = <span class=\"keyword\">new</span> ComponentName(<span class=\"string\">\"com.tencent.mm\"</span>,<span class=\"string\">\"com.tencent.mm.ui.LauncherUI\"</span>);</div><div class=\"line\">        intent.setAction(Intent.ACTION_MAIN);</div><div class=\"line\">        intent.addCategory(Intent.CATEGORY_LAUNCHER);</div><div class=\"line\">        intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);</div><div class=\"line\">        intent.setComponent(cmp);</div><div class=\"line\">        startActivityForResult(intent, <span class=\"number\">0</span>);</div><div class=\"line\"></div><div class=\"line\"></div><div class=\"line\">    &#125;</div><div class=\"line\">    <span class=\"comment\">//打开新浪微博</span></div><div class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">openBlog</span><span class=\"params\">(View view)</span> </span>&#123;</div><div class=\"line\">        Intent intent = <span class=\"keyword\">new</span> Intent();</div><div class=\"line\">        ComponentName cmp = <span class=\"keyword\">new</span> ComponentName(<span class=\"string\">\"com.sina.weibo\"</span>,<span class=\"string\">\"com.sina.weibo.SplashActivity\"</span>);</div><div class=\"line\">        intent.setAction(Intent.ACTION_MAIN);</div><div class=\"line\">        intent.addCategory(Intent.CATEGORY_LAUNCHER);</div><div class=\"line\">        intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);</div><div class=\"line\">        intent.setComponent(cmp);</div><div class=\"line\">        startActivityForResult(intent, <span class=\"number\">0</span>);</div><div class=\"line\">    &#125;</div></pre></td></tr></table></figure></p>\n<p><code>以上代码主要用了两种方法设置将要跳转的Activity的信息,第一个是设置Uri,第二种是设置Component来实现跳转</code></p>\n<h3 id=\"2-启动APP\"><a href=\"#2-启动APP\" class=\"headerlink\" title=\"2.启动APP\"></a>2.启动APP</h3><p>对于第三方APP,笔者主要采用设置<code>Component</code>的方法</p>\n<p>在监听器或其他区域,输入以下代码</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">Intent intent = <span class=\"keyword\">new</span> Intent();</div><div class=\"line\"><span class=\"comment\">//ComponentName(String psk,String cls)</span></div><div class=\"line\"><span class=\"comment\">//PKG的组件存在的包的名字。不能为空。CLS的PKG实现组件的内部类的名字。不能为空。</span></div><div class=\"line\">      ComponentName cmp = <span class=\"keyword\">new</span> ComponentName(<span class=\"string\">\"com.tencent.mm\"</span>,<span class=\"string\">\"com.tencent.mm.ui.LauncherUI\"</span>);<span class=\"comment\">//启动微信</span></div><div class=\"line\">      intent.setAction(Intent.ACTION_MAIN);</div><div class=\"line\">      intent.addCategory(Intent.CATEGORY_LAUNCHER);</div><div class=\"line\">      intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);</div><div class=\"line\">      intent.setComponent(cmp);</div><div class=\"line\">      startActivityForResult(intent, <span class=\"number\">0</span>);</div></pre></td></tr></table></figure>\n<h2 id=\"一些安卓应用的pkg和cls\"><a href=\"#一些安卓应用的pkg和cls\" class=\"headerlink\" title=\"一些安卓应用的pkg和cls\"></a>一些安卓应用的pkg和cls</h2><p><code>以下的APP都是根据笔者的当前手机的app导出得到的,所以只有部分常用的应用</code><br>导出App信息(pkg和cls)项目:<a href=\"https://github.com/lovemefan/PackageMangerDemo\" target=\"_blank\" rel=\"external\">https://github.com/lovemefan/PackageMangerDemo</a><br>|应用|pkg |cls |<br>|:——–|:———-:|:————–:|<br>|阿里云|com.alibaba.aliyun|com.alibaba.aliyun.biz.login.WelcomeActivity|<br>|爱奇艺|com.qiyi.video|com.qiyi.video.WelcomeActivity|<br>|百度贴吧|com.baidu.tieba|com.baidu.tieba.LogoActivity|<br>|百度网盘|com.baidu.netdisk|com.baidu.netdisk.ui.Navigate|<br>|备忘录|com.samsung.android.app.memo|com.samsung.android.app.memo.Main|<br>|哔哩哔哩|tv.danmaku.bili|tv.danmaku.bili.ui.splash.SplashActivity|<br>|车来了|com.ygkj.chelaile.standard|dev.xesam.chelaile.app.module.func.SplashActivity|<br>|电话|com.android.contacts|com.android.dialer.DialtactsActivity|<br>|电子邮件|com.samsung.android.email.provider|com.samsung.android.email.ui.activity.MessageListXL|<br>|盖乐世空间|com.samsung.android.voc|com.samsung.android.voc.LauncherActivity|<br>|高德地图|com.autonavi.minimap|com.autonavi.map.activity.SplashActivity|<br>|高铁管家12306火车票|com.gtgj.view|com.gtgj.view.LaunchActivity|<br>|黑域|me.piebridge.brevent|me.piebridge.brevent.ui.BreventActivity|<br>|计算器|com.sec.android.app.popupcalculator|com.sec.android.app.popupcalculator.Calculator|<br>|交管12123|com.tmri.app.main|com.tmri.app.ui.activity.TmriActivity|<br>|京东|com.jingdong.app.mall|com.jingdong.app.mall.main.MainActivity|<br>|联系人|com.android.contacts|com.android.contacts.activities.PeopleActivity|<br>|猎吧出行|com.example.liabarcarandroid|com.liabarcar.guide.SplashActivity|<br>|浏览器|com.sec.android.app.sbrowser|com.sec.android.app.sbrowser.SBrowserMainActivity|<br>|录音机|com.sec.android.app.voicenote|com.sec.android.app.voicenote.main.VNMainActivity|<br>|南昌航空大学|com.eteasun.nanhang|com.eteasun.nanhang.activity.WelcomeActvity|<br>|全民K歌|com.tencent.karaoke|com.tencent.karaoke.module.splash.ui.SplashBaseActivity|<br>|三星健康|com.sec.android.app.shealth|com.samsung.android.app.shealth.home.HomeMainActivity|<br>|三星生活助手|com.samsung.android.app.sreminder|com.samsung.android.app.sreminder.phone.cardlist.SReminderActivity|<br>|三星视频|com.samsung.android.onlinevideo|com.samsung.android.onlinevideo.list.activity.VideoList|<br>|三星音乐|com.samsung.android.app.music.chn|com.samsung.android.app.music.common.activity.MusicMainActivity|<br>|三星阅读|com.mci.smagazine|com.chaozh.iReader.ui.activity.WelcomeActivity|<br>|三星云|com.samsung.multidevicecloud|com.kanbox.wp.Main|<br>|扫描全能王|com.intsig.camscanner|com.intsig.camscanner.WelcomeActivity|<br>|扇贝单词|com.shanbay.words|com.shanbay.words.startup.SplashActivity|<br>|设置|com.android.settings|com.android.settings.Settings|<br>|时钟|com.sec.android.app.clockpackage|com.sec.android.app.clockpackage.ClockPackage|<br>|手机淘宝|com.taobao.taobao|com.taobao.tao.welcome.Welcome|<br>|手机营业厅|com.sinovatech.unicom.ui|com.sinovatech.unicom.ui.WelcomeClient|<br>|搜狐视频|com.sohu.sohuvideo|com.sohu.sohuvideo.FirstNavigationActivityGroup|<br>|腾讯动漫|com.qq.ac.android|com.qq.ac.android.view.activity.SplashActivity|<br>|腾讯课堂|com.tencent.edu|com.tencent.edu.module.SplashActivity|<br>|腾讯视频|com.tencent.qqlive|com.tencent.qqlive.ona.activity.WelcomeActivity|<br>|通卡宝|com.nci.tkb|com.nci.tkb.ui.SplashActivity|<br>|网易有道词典|com.youdao.dict|com.youdao.dict.activity.DictSplashActivity|<br>|网易云音乐|com.netease.cloudmusic|com.netease.cloudmusic.activity.LoadingActivity|<br>|微博|com.sina.weibo|com.sina.weibo.SplashActivity|<br>|微信|com.tencent.mm|com.tencent.mm.ui.LauncherUI|<br>|我的文件|com.sec.android.app.myfiles|com.sec.android.app.myfiles.common.MainActivity|<br>|闲鱼|com.taobao.idlefish|com.taobao.fleamarket.home.activity.InitActivity.Round|<br>|相册|com.sec.android.gallery3d|com.sec.android.gallery3d.app.GalleryOpaqueActivity|<br>|相机|com.sec.android.app.camera|com.sec.android.app.camera.Camera|<br>|小米VR|com.mi.dlabs.vr.hulk|com.mi.dlabs.vr.hulk.launch.HulkLaunchActivity|<br>|信息|com.android.mms|com.android.mms.ui.ConversationComposer|<br>|一键锁屏|com.yujing.lockscreen|com.yujing.lockscreen.MainActivity|<br>|应用商店|com.sec.android.app.samsungapps|com.sec.android.app.samsungapps.SamsungAppsMainActivity|<br>|影梭|com.github.shadowsocks|com.github.shadowsocks.Shadowsocks|<br>|优酷|com.youku.phone|com.youku.phone.ActivityWelcome|<br>|悦动圈|com.yuedong.sport|com.yuedong.sport.main.WelcomeActivity_|<br>|支付宝|com.eg.android.AlipayGphone|com.eg.android.AlipayGphone.AlipayLogin|<br>|知乎|com.zhihu.android|com.zhihu.android.app.ui.activity.MainActivity|<br>|智能管理器|com.samsung.android.sm|com.samsung.android.sm.app.dashboard.SmartManagerDashBoardActivity|<br>|主题商店|com.samsung.android.themestore|com.samsung.android.themestore.activity.Launcher|<br>|租八戒|com.rentpig.customer|com.rentpig.customer.main.WelcomeActivity|<br>|AChm Free|com.pchen.achmfree|com.pchen.achm.MainActivity|<br>|Chrome|com.android.chrome|com.google.android.apps.chrome.Main|<br>|ES文件浏览器|com.estrongs.android.pop|com.estrongs.android.pop.app.openscreenad.NewSplashActivity|<br>|Excel|com.microsoft.office.excel|com.microsoft.office.apphost.LaunchActivity|<br>|Github|com.seasonfif.github|com.seasonfif.github.ui.activity.SplashScreenActivity|<br>|IT之家|com.ruanmei.ithome|com.ruanmei.ithome.ui.MainActivity|<br>|netkeeper|com.xinli.netkeeper|com.xinli.netkeeper.activitys.WelcomeActivity|<br>|ofo共享单车|so.ofo.labofo|so.ofo.labofo.activities.EntryActivity|<br>|QQ|com.tencent.mobileqq|com.tencent.mobileqq.activity.SplashActivity|<br>|RD Client Beta|com.microsoft.rdc.android.beta|com.microsoft.rdc.ui.activities.HomeActivity|<br>|S 换机助手|com.sec.android.easyMover|com.sec.android.easyMover.DistributionActivity|<br>|S 日历|com.android.calendar|com.android.calendar.AllInOneActivity|<br>|S Voice|com.samsung.voiceserviceplatform|com.samsung.voiceserviceplatform.ui.SVoiceMainActivity|<br>|Samsung Gear|com.samsung.android.app.watchmanager|com.samsung.android.app.watchmanager.setupwizard.SetupWizardWelcomeActivity|<br>|Super Pads|com.opalastudios.pads|com.opalastudios.pads.ui.MainActivity|<br>|Survival Online|com.gameline.survivalcraftfree|com.unity3d.player.UnityPlayerActivity|<br>|TapTap|com.taptap|com.play.taptap.ui.MainAct|<br>|UC浏览器|com.UCMobile|com.UCMobile.main.UCMobile|<br>|USIM卡应用|com.android.stk|com.android.stk.StkLauncherActivity|<br>|WiFi万能钥匙|com.snda.wifilocating|com.lantern.launcher.ui.MainActivity|<br>|Word|com.microsoft.office.word|com.microsoft.office.apphost.LaunchActivity|</p>\n","prev":{"title":"Android学习笔记 (三)   MP3播放器","slug":"MP3播放器"},"next":{"title":"Excel 宏命令处理(一)","slug":"Excel 宏命令处理"},"link":"/post/Android 如何唤醒第三方APP/index.html  2017/10/20","toc":[{"title":"Android 如何唤醒第三方APP","id":"Android-如何唤醒第三方APP","index":"1","children":[{"title":"Intent类的通常用法","id":"Intent类的通常用法","index":"1.1","children":[{"title":"<code>1.启动 Activity：</code>","id":"1-启动-Activity：","index":"1.1.1"},{"title":"<code>2.启动服务：</code>","id":"2-启动服务：","index":"1.1.2"},{"title":"<code>3.传递广播：</code>","id":"3-传递广播：","index":"1.1.3"},{"title":"1.启动Activity","id":"1-启动Activity","index":"1.1.4"},{"title":"2.启动APP","id":"2-启动APP","index":"1.1.5"}]},{"title":"一些安卓应用的pkg和cls","id":"一些安卓应用的pkg和cls","index":"1.2"}]}]}